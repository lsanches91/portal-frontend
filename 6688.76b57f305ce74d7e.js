"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(S,u,r)=>{r.r(u),r.d(u,{PerfilPageModule:()=>P});var d=r(6814),s=r(95),o=r(3582),c=r(3044),g=r(5861),e=r(6689),h=r(7696),p=r(6402),f=r(6080);function _(a,A){if(1&a){const n=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",6),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.openRedefinirSenha(!1))}),e._UZ(4,"ion-icon",7),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Redefinir Senha"),e.qZA()()(),e.TgZ(7,"ion-content",8)(8,"ion-card",9)(9,"ion-item")(10,"ion-input",10),e.NdJ("ngModelChange",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.senhaAtual=t)}),e.TgZ(11,"div",11),e._uU(12,"Senha Atual"),e.TgZ(13,"ion-text",12),e._uU(14,"*"),e.qZA()()()(),e.TgZ(15,"ion-item")(16,"ion-input",13),e.NdJ("ngModelChange",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.novaSenha=t)}),e.TgZ(17,"div",11),e._uU(18,"Nova Senha"),e.TgZ(19,"ion-text",12),e._uU(20,"*"),e.qZA()()()(),e.TgZ(21,"ion-item")(22,"ion-input",14),e.NdJ("ngModelChange",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.confirmaSenha=t)})("keydown.enter",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.redefinirSenha())}),e.TgZ(23,"div",11),e._uU(24,"Confirma Senha"),e.TgZ(25,"ion-text",12),e._uU(26,"*"),e.qZA()()()(),e._UZ(27,"br"),e.TgZ(28,"ion-button",15),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.redefinirSenha())}),e._uU(29," Redefinir "),e.qZA(),e.TgZ(30,"ion-button",16),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.openRedefinirSenha(!1))}),e._uU(31," Voltar "),e.qZA()()()}if(2&a){const n=e.oxw();e.xp6(10),e.Q6J("ngModel",n.senhaAtual),e.xp6(6),e.Q6J("ngModel",n.novaSenha),e.xp6(6),e.Q6J("ngModel",n.confirmaSenha)}}const m=[{path:"",component:(()=>{class a{constructor(n,i,t,l){this.usuarioService=n,this.authenticaton=i,this.router=t,this.utilsService=l,this.nome="",this.cpf="",this.celular="",this.email="",this.cep="",this.logradouro="",this.bairro="",this.numero="",this.cidade={},this.estado={},this.isModalOpen=!1,this.senhaAtual="",this.novaSenha="",this.confirmaSenha="",this.recarregarPagina="true"===localStorage.getItem("recarregarPagina")}ngOnInit(){console.log(this.recarregarPagina),1==this.recarregarPagina&&(this.recarregarPagina=!1,localStorage.setItem("recarregarPagina","false"),setTimeout(()=>{window.location.reload()},800)),this.verificaUsuarioLogado()}verificaUsuarioLogado(){var n=this;return(0,g.Z)(function*(){const i=yield n.usuarioService.getUsuario();console.log(i),i&&(n.nome=i.nome,n.cpf=i.cpf,n.celular=i.telefone,n.email=i.email,n.cep=i.cep,n.logradouro=i.logradouro,n.bairro=i.bairro,n.numero=i.numero,n.cidade=i.cidade,n.estado=n.cidade.estado)})()}deslogar(){this.authenticaton.logout(),this.utilsService.presentToastSuccess("Conta deslogada com sucesso!"),this.recarregarPagina=!0,localStorage.setItem("recarregarPagina","true"),location.reload()}redefinirSenha(){var n=this;return(0,g.Z)(function*(){if(""==n.senhaAtual||""==n.novaSenha||""==n.confirmaSenha)n.utilsService.presentToastWarning("Preencha todos os campos!");else if(n.novaSenha!=n.confirmaSenha)n.utilsService.presentToastWarning("As senhas est\xe3o divergentes!");else{const i={senha:n.senhaAtual,novaSenha:n.novaSenha,tipoRedefinicao:"L"};(yield n.usuarioService.redefinirSenha("token",i))&&(yield n.utilsService.presentToastSuccess("Senha alterada com sucesso!"),n.openRedefinirSenha(!1))}})()}openRedefinirSenha(n){this.isModalOpen=n,n||(this.novaSenha="",this.senhaAtual="",this.confirmaSenha="")}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(h.i),e.Y36(p.$),e.Y36(c.F0),e.Y36(f.FW))};static#n=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-perfil"]],decls:61,vars:12,consts:[["slot","start"],[3,"fullscreen"],[2,"width","150%"],["color","danger","expand","block",3,"click"],["color","warning","expand","block",3,"click"],[3,"isOpen"],[3,"click"],["name","arrow-back-outline"],[1,"ion-padding"],[2,"padding","15px"],["labelPlacement","floating","type","password","placeholder","Insira a sua senha atual",3,"ngModel","ngModelChange"],["slot","label"],["color","danger"],["labelPlacement","floating","type","password","placeholder","Insira a sua nova senha",3,"ngModel","ngModelChange"],["labelPlacement","floating","type","password","placeholder","Insira sua nova senha novamente",3,"ngModel","ngModelChange","keydown.enter"],["size","default","expand","block","color","success",3,"click"],["size","default","expand","block","fill","outline",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-toolbar")(1,"ion-buttons",0),e._UZ(2,"ion-menu-button"),e.qZA(),e.TgZ(3,"ion-title"),e._uU(4,"Meu Perfil"),e.qZA()(),e.TgZ(5,"ion-content",1)(6,"ion-card")(7,"ion-item")(8,"ion-label")(9,"p"),e._uU(10,"Nome:"),e.qZA(),e._uU(11),e.qZA()(),e.TgZ(12,"ion-item")(13,"ion-label")(14,"p"),e._uU(15,"CPF:"),e.qZA(),e._uU(16),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label")(19,"p"),e._uU(20,"Telefone:"),e.qZA(),e._uU(21),e.qZA()(),e.TgZ(22,"ion-item")(23,"ion-label")(24,"p"),e._uU(25,"E-mail:"),e.qZA(),e._uU(26),e.qZA()(),e.TgZ(27,"ion-item")(28,"ion-label")(29,"p"),e._uU(30,"CEP:"),e.qZA(),e._uU(31),e.qZA()(),e.TgZ(32,"ion-item")(33,"ion-label")(34,"p"),e._uU(35,"Logradouro:"),e.qZA(),e._uU(36),e.qZA()(),e.TgZ(37,"ion-item")(38,"ion-label")(39,"p"),e._uU(40,"N\xfamero:"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"ion-label",2)(43,"p"),e._uU(44,"Bairro:"),e.qZA(),e._uU(45),e.qZA()(),e.TgZ(46,"ion-item")(47,"ion-label",2)(48,"p"),e._uU(49,"Cidade:"),e.qZA(),e._uU(50),e.qZA(),e.TgZ(51,"ion-label")(52,"p"),e._uU(53,"Estado:"),e.qZA(),e._uU(54),e.qZA()(),e.TgZ(55,"ion-button",3),e.NdJ("click",function(){return t.deslogar()}),e._uU(56,"Sair"),e.qZA(),e.TgZ(57,"ion-button",4),e.NdJ("click",function(){return t.openRedefinirSenha(!0)}),e._uU(58,"Redefinir Senha"),e.qZA()()(),e.TgZ(59,"ion-modal",5),e.YNc(60,_,32,3,"ng-template"),e.qZA()),2&i&&(e.xp6(5),e.Q6J("fullscreen",!0),e.xp6(6),e.hij("",t.nome," "),e.xp6(5),e.hij("",t.cpf," "),e.xp6(5),e.hij("",t.celular," "),e.xp6(5),e.hij("",t.email," "),e.xp6(5),e.hij("",t.cep," "),e.xp6(5),e.hij("",t.logradouro," "),e.xp6(5),e.hij("",t.numero," "),e.xp6(4),e.hij("",t.bairro," "),e.xp6(5),e.hij("",t.cidade.nome," "),e.xp6(4),e.hij("",t.estado.nome," "),e.xp6(5),e.Q6J("isOpen",t.isModalOpen))},dependencies:[s.JJ,s.On,o.YG,o.Sm,o.PM,o.W2,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.fG,o.yW,o.wd,o.sr,o.ki,o.j9],styles:["ion-item[_ngcontent-%COMP%]{padding:5px}ion-button[_ngcontent-%COMP%]{margin:10px}"]})}return a})()}];let Z=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=e.oAB({type:a});static#i=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(m),c.Bz]})}return a})(),P=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=e.oAB({type:a});static#i=this.\u0275inj=e.cJS({imports:[d.ez,s.u5,o.Pc,Z]})}return a})()}}]);