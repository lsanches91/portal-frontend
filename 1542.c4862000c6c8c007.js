"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1542],{1542:(C,g,i)=>{i.r(g),i.d(g,{OngsPageModule:()=>A});var u=i(6814),l=i(95),o=i(3582),c=i(3044),p=i(5861),t=i(6689),h=i(6080),f=i(7838),m=i(6975),O=i(2321);function v(n,P){if(1&n){const e=t.EpF();t.TgZ(0,"ion-col",8)(1,"ion-card",9),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.acessarOng(r.id))}),t._UZ(2,"img",10),t.TgZ(3,"ion-card-header")(4,"ion-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-subtitle"),t._uU(7),t.qZA()(),t.TgZ(8,"ion-card-content"),t._uU(9),t.qZA()()()}if(2&n){const e=P.$implicit;t.xp6(2),t.s9C("src",e.logo_path,t.LSH),t.xp6(3),t.Oqu(e.nome_fantasia),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.hij(" ",e.descricao," ")}}const Z=[{path:"",component:(()=>{class n{constructor(e,s,a,r){this.ongService=e,this.router=s,this.geolocalizacao=a,this.utilsService=r,this.activatedRoute=(0,t.f3M)(c.gz),this.urlFoto=`${h.v6}/uploads/`,this.cidade="",this.retorno=[],this.ongsApresentadas=[],this.getOngs()}printCurrentPosition(){var e=this;return(0,p.Z)(function*(){e.utilsService.presentToast("Buscando a cidade...");const s=yield f.b.getCurrentPosition(),a=yield e.geolocalizacao.getAddres(s.coords.latitude,s.coords.longitude);e.cidade=a.features[0].properties.city})()}getOngs(){this.ongService.getOngBySituacao("Aprovada").then(e=>{this.retorno=e,console.log(e),this.retorno&&(this.retorno.forEach(s=>{s.logo_path=this.urlFoto+s.logo_path}),this.ongsApresentadas=this.retorno)}).catch(e=>{console.log(e)})}getOngsCidade(){console.log(this.cidade),""==this.cidade?(this.ongsApresentadas=this.retorno,this.utilsService.presentToastSuccess("Apresentando todas as ONGs")):this.retorno&&(this.ongsApresentadas=[],this.retorno.forEach(e=>{e.cidade.nome==this.cidade&&this.ongsApresentadas.push(e)}),this.ongsApresentadas.length?this.utilsService.presentToastSuccess("ONGs filtradas com sucesso!"):this.utilsService.presentToastWarning("Nenhuma ONG foi encontrada!"))}acessarOng(e){this.router.navigate(["/visualizar-ong/",e])}ngOnInit(){this.home=this.activatedRoute.snapshot.paramMap.get("id")}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(m.r),t.Y36(c.F0),t.Y36(O.z),t.Y36(h.FW))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-ongs"]],decls:19,vars:4,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size-lg","4","offset-lg","4","size-sm","12","offset-sm","0"],["label","Buscar Cidade","labelPlacement","floating","placeholder","Ex: Presidente Epit\xe1cio",3,"ngModel","keydown.enter","ngModelChange"],["title","Clique para obter a localiza\xe7\xe3o","name","locate",2,"margin-right","5px",3,"click"],["size-lg","3","size-xs","12",4,"ngFor","ngForOf"],["size-lg","3","size-xs","12"],[3,"click"],["alt","Logo da ONG","width","100%","height","200px",3,"src"]],template:function(s,a){1&s&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"ONGs cadastradas"),t.qZA()()(),t.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title"),t._uU(10,"ONGs cadastradas"),t.qZA()()(),t.TgZ(11,"ion-grid")(12,"ion-row")(13,"ion-col",4)(14,"ion-item")(15,"ion-input",5),t.NdJ("keydown.enter",function(){return a.getOngsCidade()})("ngModelChange",function(d){return a.cidade=d}),t.qZA(),t.TgZ(16,"ion-icon",6),t.NdJ("click",function(){return a.printCurrentPosition()}),t.qZA()()()(),t.TgZ(17,"ion-row"),t.YNc(18,v,10,4,"ion-col",7),t.qZA()()()),2&s&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(9),t.Q6J("ngModel",a.cidade),t.xp6(3),t.Q6J("ngForOf",a.ongsApresentadas))},dependencies:[u.sg,l.JJ,l.On,o.Sm,o.PM,o.FN,o.Zi,o.tO,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.gu,o.pK,o.Ie,o.fG,o.Nd,o.wd,o.sr,o.j9],styles:['@charset "UTF-8";ion-icon[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s ease}ion-icon[_ngcontent-%COMP%]:hover{color:#5b0999}ion-icon[_ngcontent-%COMP%]:active{color:#b959c6}']})}return n})()}];let T=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(Z),c.Bz]})}return n})(),A=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[u.ez,l.u5,o.Pc,T]})}return n})()}}]);