"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6260],{6260:(y,h,c)=>{c.r(h),c.d(h,{HomePageModule:()=>q});var _=c(6814),p=c(95),s=c(3582),d=c(3044),g=c(5861),e=c(6689),f=c(6080),v=c(7838),Z=c(6975),A=c(2321),T=c(4781),M=c(8165),C=c(6448),P=c(9393),x=c(83);function E(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col",10)(1,"ion-card",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.apresentaAnimal(a.id))}),e._UZ(2,"img",12),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-card-subtitle"),e._uU(7),e.qZA()(),e.TgZ(8,"ion-card-content"),e._uU(9),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.s9C("src",t.foto_path,e.LSH),e.xp6(3),e.Oqu(t.nome),e.xp6(2),e.Oqu(t.ong.nome_fantasia),e.xp6(2),e.hij(" ",t.descricao," ")}}function F(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.nome),e.xp6(1),e.Oqu(t.nome)}}function H(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.nome_comum),e.xp6(1),e.Oqu(t.nome_comum)}}function S(n,r){if(1&n&&(e.TgZ(0,"ion-select-option",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function J(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openFiltros(!1))}),e._UZ(4,"ion-icon",14),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Filtros de busca para animal"),e.qZA()()(),e.TgZ(7,"ion-content",15)(8,"ion-card",16)(9,"ion-item")(10,"ion-select",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.estado=i)}),e.TgZ(11,"ion-select-option",18),e._uU(12,"N\xe3o filtrar"),e.qZA(),e.YNc(13,F,2,2,"ion-select-option",19),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-select",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.nomeEspecie=i)}),e.TgZ(16,"ion-select-option",18),e._uU(17,"N\xe3o filtrar"),e.qZA(),e.YNc(18,H,2,2,"ion-select-option",19),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-select",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.nomeRaca=i)}),e.TgZ(21,"ion-select-option",18),e._uU(22,"N\xe3o filtrar"),e.qZA(),e.YNc(23,S,2,2,"ion-select-option",19),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-select",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.idade=i)}),e.TgZ(26,"ion-select-option",18),e._uU(27,"N\xe3o filtrar"),e.qZA(),e.TgZ(28,"ion-select-option",23),e._uU(29,"Filhote"),e.qZA(),e.TgZ(30,"ion-select-option",24),e._uU(31,"Adulto"),e.qZA(),e.TgZ(32,"ion-select-option",25),e._uU(33,"Idoso"),e.qZA()()(),e.TgZ(34,"ion-item")(35,"ion-select",26),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.porte=i)}),e.TgZ(36,"ion-select-option",18),e._uU(37,"N\xe3o filtrar"),e.qZA(),e.TgZ(38,"ion-select-option",27),e._uU(39,"Pequeno"),e.qZA(),e.TgZ(40,"ion-select-option",28),e._uU(41,"M\xe9dio"),e.qZA(),e.TgZ(42,"ion-select-option",29),e._uU(43,"Grande"),e.qZA()()(),e.TgZ(44,"ion-button",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.aplicarFiltros())}),e._uU(45," Aplicar Filtros "),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.estado),e.xp6(3),e.Q6J("ngForOf",t.estados),e.xp6(2),e.Q6J("ngModel",t.nomeEspecie),e.xp6(3),e.Q6J("ngForOf",t.especies),e.xp6(2),e.Q6J("ngModel",t.nomeRaca),e.xp6(3),e.Q6J("ngForOf",t.racas),e.xp6(2),e.Q6J("ngModel",t.idade),e.xp6(10),e.Q6J("ngModel",t.porte)}}const N=[{path:"",component:(()=>{class n{constructor(t,o,i,a,l,u,m,U,b){this.ongService=t,this.router=o,this.geolocalizacao=i,this.animalService=a,this.especieService=l,this.racaService=u,this.utilsService=m,this.estadoService=U,this.cidadeService=b,this.home="Animais dispon\xedveis para ado\xe7\xe3o",this.activatedRoute=(0,e.f3M)(d.gz),this.urlFoto=`${f.v6}/uploads/`,this.cidade="",this.retorno=[],this.animais=[],this.animaisApresentados=[],this.racas=[],this.especies=[],this.estados=[],this.isModalOpen=!1,this.nomeEspecie="",this.nomeRaca="",this.idade="",this.porte="",this.estado="",this.getAnimais(),this.listarEspecies(),this.listarRacas(),this.verificaEstados()}printCurrentPosition(){var t=this;return(0,g.Z)(function*(){t.utilsService.presentToast("Buscando a cidade...");const o=yield v.b.getCurrentPosition(),i=yield t.geolocalizacao.getAddres(o.coords.latitude,o.coords.longitude);t.cidade=i.features[0].properties.city})()}verificaEstados(){var t=this;return(0,g.Z)(function*(){t.estadoService.getAll().then(function(){var o=(0,g.Z)(function*(i){0==i.length&&(t.utilsService.presentToast("Importando estados e cidades, isso pode demorar um pouco..."),yield t.estadoService.importEstados(),yield t.cidadeService.importCidades(),t.estados=i)});return function(i){return o.apply(this,arguments)}}()).catch(o=>{console.log(o)})})()}listarEspecies(){this.especieService.getEspecieBySituacao("Aprovado").then(t=>{this.especies=t}).catch(t=>{console.log(t.error.error)})}listarRacas(){this.racaService.getRacaBySituacao("Aprovado").then(t=>{t.forEach(o=>{-1==this.racas.indexOf(o.nome)&&this.racas.push(o.nome)}),console.log(this.racas)}).catch(t=>{console.log(t.error.error)})}getAnimais(){this.animalService.getAllDisponiveis().then(t=>{this.animais=t,this.animais&&t.forEach(o=>{o.foto_path=this.urlFoto+o.foto_path}),this.animaisApresentados=this.animais,console.log(this.animaisApresentados)}).catch(t=>{console.log(t)})}getAnimaisCidade(){this.animais&&(this.animaisApresentados=[],this.animais.forEach(t=>{t.ong.cidade.nome==this.cidade&&this.animaisApresentados.push(t)}),this.animaisApresentados.length?this.utilsService.presentToastSuccess("Animais filtradas com sucesso!"):this.utilsService.presentToastWarning("Nenhum animal foi encontrado!")),""==this.cidade&&(this.animaisApresentados=this.animais,this.utilsService.presentToastSuccess("Apresentando todos os animais"))}apresentaAnimal(t){this.router.navigate(["/animal-info/",t])}openFiltros(t){this.isModalOpen=t,console.log(this.isModalOpen)}aplicarFiltros(){""!==this.estado||""!==this.nomeEspecie||""!==this.nomeRaca||""!==this.porte||""!==this.idade?(this.animaisApresentados=this.animais.filter(o=>!(""!==this.estado&&o.ong.cidade.estado.nome!==this.estado||""!==this.nomeEspecie&&o.raca.especie.nome_comum!==this.nomeEspecie||""!==this.nomeRaca&&o.raca.nome!==this.nomeRaca||""!==this.porte&&o.porte!==this.porte||""!==this.idade&&o.idade!==this.idade)),0===this.animaisApresentados.length?this.utilsService.presentToastWarning("Nenhum animal foi encontrado!"):this.utilsService.presentToastSuccess("Animais filtrados com sucesso!")):(this.animaisApresentados=this.animais,this.utilsService.presentToastSuccess("Apresentando todos os animais")),this.openFiltros(!1)}ngOnInit(){this.home=this.activatedRoute.snapshot.paramMap.get("id")}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(Z.r),e.Y36(d.F0),e.Y36(A.z),e.Y36(T.L),e.Y36(M.I),e.Y36(C.v),e.Y36(f.FW),e.Y36(P.s),e.Y36(x.F))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:22,vars:6,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size-lg","4","offset-lg","4","size-sm","12","offset-sm","0"],["label","Buscar Cidade","labelPlacement","floating","placeholder","Ex: Presidente Epit\xe1cio",3,"ngModel","keydown.enter","ngModelChange"],["title","Clique para obter a localiza\xe7\xe3o","name","locate",2,"margin-right","5px",3,"click"],["title","Clique para selecionar mais filtros","name","options-outline",3,"click"],["size-lg","3","size-xs","12",4,"ngFor","ngForOf"],[3,"isOpen","backdropDismiss"],["size-lg","3","size-xs","12"],[1,"ion-active",3,"click"],["alt","Foto do animal","width","100%","height","200px",3,"src"],[3,"click"],["name","arrow-back-outline"],[1,"ion-padding"],[2,"padding","10px"],["label","Estado","interface","popover","labelPlacement","stacked",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["label","Esp\xe9cie","interface","popover","labelPlacement","stacked",3,"ngModel","ngModelChange"],["label","Ra\xe7a","interface","popover","labelPlacement","stacked",3,"ngModel","ngModelChange"],["label","Idade","interface","popover","labelPlacement","stacked",3,"ngModel","ngModelChange"],["value","Filhote"],["value","Adulto"],["value","Idoso"],["label","Porte","interface","popover","labelPlacement","stacked",3,"ngModel","ngModelChange"],["value","Pequeno"],["value","M\xe9dio"],["value","Grande"],["size","default","expand","block","color","success",3,"click"],[3,"value"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Animais para ado\xe7\xe3o"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title"),e._uU(10,"Animais para ado\xe7\xe3o"),e.qZA()()(),e.TgZ(11,"ion-grid")(12,"ion-row")(13,"ion-col",4)(14,"ion-item")(15,"ion-input",5),e.NdJ("keydown.enter",function(){return i.getAnimaisCidade()})("ngModelChange",function(l){return i.cidade=l}),e.qZA(),e.TgZ(16,"ion-icon",6),e.NdJ("click",function(){return i.printCurrentPosition()}),e.qZA(),e.TgZ(17,"ion-icon",7),e.NdJ("click",function(){return i.openFiltros(!0)}),e.qZA()()()(),e.TgZ(18,"ion-row"),e.YNc(19,E,10,4,"ion-col",8),e.qZA()()(),e.TgZ(20,"ion-modal",9),e.YNc(21,J,46,8,"ng-template"),e.qZA()),2&o&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(9),e.Q6J("ngModel",i.cidade),e.xp6(4),e.Q6J("ngForOf",i.animaisApresentados),e.xp6(1),e.Q6J("isOpen",i.isModalOpen)("backdropDismiss",!1))},dependencies:[_.sg,p.JJ,p.On,s.YG,s.Sm,s.PM,s.FN,s.Zi,s.tO,s.Dq,s.wI,s.W2,s.jY,s.Gu,s.gu,s.pK,s.Ie,s.fG,s.Nd,s.t9,s.n0,s.wd,s.sr,s.ki,s.QI,s.j9],styles:['@charset "UTF-8";ion-card.ion-active[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .3s}ion-card.ion-active[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}ion-icon[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s ease}ion-icon[_ngcontent-%COMP%]:hover{color:#5b0999}ion-icon[_ngcontent-%COMP%]:active{color:#b959c6}ion-item[_ngcontent-%COMP%]{margin-bottom:10px}']})}return n})()}];let O=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(N),d.Bz]})}return n})(),q=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[_.ez,p.u5,s.Pc,O]})}return n})()}}]);