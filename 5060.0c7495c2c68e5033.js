"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5060],{5060:(A,g,s)=>{s.r(g),s.d(g,{ListarOngPageModule:()=>v});var u=s(6814),m=s(95),e=s(3582),a=s(3044),d=s(5861),t=s(6689),p=s(6080),h=s(4414),f=s(6975);function Z(i,T){if(1&i){const o=t.EpF();t.TgZ(0,"ion-col",11)(1,"ion-card"),t._UZ(2,"img",12),t.TgZ(3,"ion-card-header")(4,"ion-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-subtitle"),t._uU(7),t.qZA()(),t.TgZ(8,"ion-card-content"),t._uU(9),t.qZA(),t.TgZ(10,"ion-button",13),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.editarOng(c.id))}),t._uU(11,"Editar"),t.qZA(),t.TgZ(12,"ion-button",13),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.confirmaExclusao(c.id))}),t._uU(13,"Excluir"),t.qZA()()()}if(2&i){const o=T.$implicit;t.xp6(2),t.Q6J("src",o.logo_path,t.LSH),t.xp6(3),t.Oqu(o.nome_fantasia),t.xp6(2),t.Oqu(o.email),t.xp6(2),t.Oqu(o.descricao)}}const x=[{path:"",component:(()=>{class i{constructor(o,n,r,c,l){this.route=o,this.toastController=n,this.alertController=r,this.ongService=c,this.router=l,this.activatedRoute=(0,t.f3M)(a.gz),this.urlFoto=`${p.v6}/uploads/`,this.retorno=[],this.getOngs()}ionViewWillEnter(){this.getOngs()}getOngs(){this.ongService.getAll().then(o=>{this.retorno=o,this.retorno.forEach(n=>{n.logo_path=this.urlFoto+n.logo_path}),console.log(this.retorno)}).catch(o=>{console.log(o)})}confirmaExclusao(o){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Confirmar exclus\xe3o?",buttons:[{text:"N\xe3o"},{text:"Sim",handler:()=>{n.remover(o)}}]})).present()})()}remover(o){console.log(o),this.ongService.delete(o).then(()=>{this.presentToast("Ong exclu\xedda com sucesso!"),console.log("Ong Exclu\xedda."),setTimeout(()=>{window.location.reload()},1e3)}).catch(n=>{console.log(n)})}presentToast(o){var n=this;return(0,d.Z)(function*(){(yield n.toastController.create({message:o,duration:4e3,position:"top"})).present()})()}editarOng(o){this.router.navigate(["/editar-ong",o])}ngOnInit(){this.listarOng=this.activatedRoute.snapshot.paramMap.get("id")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(a.gz),t.Y36(h.yF),t.Y36(h.Br),t.Y36(f.r),t.Y36(a.F0))};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-listar-ong"]],decls:21,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["slot","icon-only","name","star"],["size","large"],[2,"height","100%"],["size-lg","2","offset-lg","5","size-xs","12","offset-xs","0"],["size","default","expand","block","routerLink","/cadastrar-ong"],["slot","start","name","add-circle-outline"],["size-lg","3","size-xs","12",4,"ngFor","ngForOf"],["size-lg","3","size-xs","12"],["alt","Silhouette of mountains","width","100%","height","200px",3,"src"],["fill","clear",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Lista de ONGs"),t.qZA()()(),t.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-button"),t._UZ(10,"ion-icon",4),t.qZA(),t.TgZ(11,"ion-title",5),t._uU(12,"Lista de ONGs"),t.qZA()()(),t.TgZ(13,"ion-grid")(14,"ion-row",6)(15,"ion-col",7)(16,"ion-button",8),t._UZ(17,"ion-icon",9),t._uU(18," Adicionar "),t.qZA()()(),t.TgZ(19,"ion-row"),t.YNc(20,Z,14,4,"ion-col",10),t.qZA()()()),2&n&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(14),t.Q6J("ngForOf",r.retorno))},dependencies:[u.sg,e.YG,e.Sm,e.PM,e.FN,e.Zi,e.tO,e.Dq,e.wI,e.W2,e.jY,e.Gu,e.gu,e.fG,e.Nd,e.wd,e.sr,e.YI,a.rH]})}return i})()}];let O=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(x),a.Bz]})}return i})(),v=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[u.ez,m.u5,e.Pc,O]})}return i})()}}]);