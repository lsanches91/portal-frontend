"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4672],{4672:(C,d,l)=>{l.r(d),l.d(d,{ListarEspeciePageModule:()=>A});var _=l(6814),u=l(95),c=l(3582),m=l(3044),s=l(5861),e=l(6689),g=l(4414),f=l(8165);function h(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"ion-fab-button",23),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.enviaAprovaEspecie(o.id))}),e._UZ(1,"ion-icon",24),e.qZA()}}function E(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-fab",12)(4,"ion-fab-button",13),e._UZ(5,"ion-icon",14),e.qZA(),e.TgZ(6,"ion-fab-list",15),e.YNc(7,h,2,0,"ion-fab-button",16),e.TgZ(8,"ion-fab-button",17),e.NdJ("click",function(){const a=e.CHM(i).$implicit,p=e.oxw();return e.KtG(p.confirmaExclusao(a.id))}),e._UZ(9,"ion-icon",18),e.qZA(),e.TgZ(10,"ion-fab-button",19),e.NdJ("click",function(){const a=e.CHM(i).$implicit,p=e.oxw();return e.KtG(p.atualizarEspecieSelecionada(a.id))}),e._UZ(11,"ion-icon",20),e.qZA(),e.TgZ(12,"ion-fab-button",21),e.NdJ("click",function(){const a=e.CHM(i).$implicit,p=e.oxw();return e.KtG(p.visualizarEspecieSelecionada(a.id))}),e._UZ(13,"ion-icon",22),e.qZA()()()()}if(2&n){const i=r.$implicit;e.xp6(2),e.Oqu(i.nome_comum),e.xp6(5),e.Q6J("ngIf","Pendente"===i.situacao)}}function Z(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Visualizar Esp\xe9cie"),e.qZA()()(),e.TgZ(4,"ion-content",25)(5,"ion-card",26)(6,"ion-item"),e._UZ(7,"ion-input",27),e.qZA(),e.TgZ(8,"ion-item"),e._UZ(9,"ion-input",28),e.qZA(),e.TgZ(10,"ion-item"),e._UZ(11,"ion-input",29),e.qZA(),e.TgZ(12,"ion-button",30),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.openVisualizarEspecie(!1))}),e._uU(13," Voltar "),e.qZA()()()}if(2&n){const i=e.oxw();e.xp6(7),e.s9C("value",i.especieSelecionada.nome_comum),e.Q6J("disabled",!0),e.xp6(2),e.s9C("value",i.especieSelecionada.nome_cientifico),e.Q6J("disabled",!0),e.xp6(2),e.s9C("value",i.especieSelecionada.situacao),e.Q6J("disabled",!0)}}function v(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Atualizar Esp\xe9cie"),e.qZA()()(),e.TgZ(4,"ion-content",25)(5,"ion-card",26)(6,"ion-item")(7,"ion-input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.especieSelecionada.nome_comum=o)}),e.qZA()(),e.TgZ(8,"ion-item")(9,"ion-input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.especieSelecionada.nome_cientifico=o)}),e.qZA()(),e.TgZ(10,"ion-item"),e._UZ(11,"ion-input",29),e.qZA(),e.TgZ(12,"ion-button",5),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.atualizaEspecie())}),e._uU(13," Enviar "),e.qZA(),e.TgZ(14,"ion-button",30),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.openAtualizarEspecie(!1))}),e._uU(15," Voltar "),e.qZA()()()}if(2&n){const i=e.oxw();e.xp6(7),e.Q6J("counter",!0)("ngModel",i.especieSelecionada.nome_comum),e.xp6(2),e.Q6J("counter",!0)("ngModel",i.especieSelecionada.nome_cientifico),e.xp6(2),e.s9C("value",i.especieSelecionada.situacao),e.Q6J("disabled",!0)}}function T(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Adicionar Esp\xe9cie"),e.qZA()()(),e.TgZ(4,"ion-content",25)(5,"ion-card",26)(6,"ion-item")(7,"ion-input",31),e.NdJ("ngModelChange",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.especieNova.nome_comum=o)}),e.qZA()(),e.TgZ(8,"ion-item")(9,"ion-input",32),e.NdJ("ngModelChange",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.especieNova.nome_cientifico=o)}),e.qZA()(),e.TgZ(10,"ion-item")(11,"ion-select",33),e.NdJ("ngModelChange",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.especieNova.situacao=o)}),e.TgZ(12,"ion-select-option",34),e._uU(13,"Aprovado"),e.qZA(),e.TgZ(14,"ion-select-option",35),e._uU(15,"Pendente"),e.qZA()()(),e.TgZ(16,"ion-button",5),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.criaEspecie())}),e._uU(17," Enviar "),e.qZA(),e.TgZ(18,"ion-button",30),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.openAdicionarEspecie(!1))}),e._uU(19," Voltar "),e.qZA()()()}if(2&n){const i=e.oxw();e.xp6(7),e.Q6J("counter",!0)("ngModel",i.especieNova.nome_comum),e.xp6(2),e.Q6J("counter",!0)("ngModel",i.especieNova.nome_cientifico),e.xp6(2),e.Q6J("ngModel",i.especieNova.situacao)}}const x=[{path:"",component:(()=>{class n{constructor(i,t,o){this.toastController=i,this.especieService=t,this.alertController=o,this.isAprovado=!0,this.isModalVisualizarOpen=!1,this.isModalAtualizarOpen=!1,this.isModalAdicionarOpen=!1,this.titulo="Aprovadas",this.especieSelecionada={nome_comum:"",nome_cientifico:"",situacao:""},this.especieNova={nome_comum:"",nome_cientifico:"",situacao:"Aprovado"},this.getEspecieBySitucao("Aprovado")}postEspecie(i){var t=this;return(0,s.Z)(function*(){t.camposValidos(i)?t.especieService.create(i).then(o=>{t.retorno=o,console.log(t.retorno)}).catch(o=>{console.log(o)}):t.presentToast("Campos inv\xe1lidos.")})()}getEspecieBySitucao(i){var t=this;return(0,s.Z)(function*(){"Pendente"==i||"Aprovado"==i?t.especieService.getEspecieBySituacao(i).then(o=>{t.especies=o,t.titulo="Pendente"==i?"Pendentes":"Aprovadas"}).catch(o=>{console.log(o)}):t.presentToast("Situac\xe3o precisa ser 'Pendente' ou 'Aprovado'")})()}getEspecieById(i){var t=this;return(0,s.Z)(function*(){t.especieService.getSingleEspecie(i).then(o=>{t.especieSelecionada=o}).catch(o=>{console.log(o)})})()}putEspecie(i){var t=this;return(0,s.Z)(function*(){t.camposValidos(i)?t.especieService.update(i.id,i).then(o=>{t.retorno=o}).catch(o=>{console.log(o)}):t.presentToast("Informa\xe7\xf5es inv\xe1lidas.")})()}deleteEspecie(i){var t=this;return(0,s.Z)(function*(){t.especieService.delete(i).then(o=>{t.retorno=o,console.log(t.retorno),t.presentToast("Esp\xe9cie exclu\xedda com sucesso!"),setTimeout(()=>{window.location.reload()},500)}).catch(o=>{console.log(o)})})()}criaEspecie(){var i=this;return(0,s.Z)(function*(){i.camposValidos(i.especieNova)?i.especieService.getEspecieByNomeCietifico(i.especieNova.nome_cientifico).then(t=>{t.nome_cientifico==i.especieNova.nome_cientifico&&i.presentToast("J\xe1 h\xe1 uma esp\xe9cie com esse Nome Cient\xedfico.")}).catch(t=>{i.especieService.getEspecieByNomeComum(i.especieNova.nome_comum).then(o=>{o.nome_comum==i.especieNova.nome_comum&&i.presentToast("J\xe1 h\xe1 uma esp\xe9cie com esse Nome Comum.")}).catch(o=>{i.postEspecie(i.especieNova),i.presentToast("Esp\xe9cie cadastrada com sucesso!"),setTimeout(()=>{window.location.reload()},1e3)})}):i.presentToast("Campos inv\xe1lidos.")})()}atualizaEspecie(){this.putEspecie({id:this.especieSelecionada.id,nome_comum:this.especieSelecionada.nome_comum,nome_cientifico:this.especieSelecionada.nome_cientifico,situacao:this.especieSelecionada.situacao}),this.presentToast("Esp\xe9cie atualizada com sucesso!"),setTimeout(()=>{this.openAtualizarEspecie(!1),window.location.reload()},500)}aprovaEspecie(){this.putEspecie({id:this.especieSelecionada.id,nome_comum:this.especieSelecionada.nome_comum,nome_cientifico:this.especieSelecionada.nome_cientifico,situacao:"Aprovado"}),this.presentToast("Esp\xe9cie aprovada com sucesso!"),setTimeout(()=>{window.location.reload()},500)}enviaAprovaEspecie(i){var t=this;return(0,s.Z)(function*(){t.especieService.getSingleEspecie(i).then(o=>{t.especieSelecionada=o,t.aprovaEspecie()}).catch(o=>{console.log(o)})})()}openVisualizarEspecie(i){var t=this;return(0,s.Z)(function*(){t.isModalVisualizarOpen=i})()}visualizarEspecieSelecionada(i){var t=this;return(0,s.Z)(function*(){yield t.getEspecieById(i),t.openVisualizarEspecie(!0)})()}openAtualizarEspecie(i){var t=this;return(0,s.Z)(function*(){t.isModalAtualizarOpen=i})()}atualizarEspecieSelecionada(i){var t=this;return(0,s.Z)(function*(){yield t.getEspecieById(i),t.openAtualizarEspecie(!0)})()}openAdicionarEspecie(i){var t=this;return(0,s.Z)(function*(){t.isModalAdicionarOpen=i})()}camposValidos(i){for(const t in i)if(!i[t])return"string"==typeof i[t]&&i[t].trim(),!1;return!0}confirmaExclusao(i){var t=this;return(0,s.Z)(function*(){yield(yield t.alertController.create({header:"Confirmar exclus\xe3o?",buttons:[{text:"N\xe3o"},{text:"Sim",handler:()=>{t.deleteEspecie(i)}}]})).present()})()}presentToast(i){var t=this;return(0,s.Z)(function*(){(yield t.toastController.create({message:i,duration:4e3,position:"top"})).present()})()}ngOnInit(){}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(g.yF),e.Y36(f.I),e.Y36(g.Br))};static#i=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-listar-especie"]],decls:39,vars:11,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["size-lg","4","offset-lg","4","size-xs","12","offset-xs","0"],["size","default","expand","block",3,"click"],["slot","start","name","add-circle-outline"],["size-lg","6","offset-lg","3","size-xs","12","offset-xs","0"],[3,"inset"],["lines","full"],[4,"ngFor","ngForOf"],[3,"isOpen","backdropDismiss"],["horizontal","end"],["size","small","color","secondary"],["name","add"],["side","start"],["color","success",3,"click",4,"ngIf"],["color","danger",3,"click"],["name","trash-outline"],["color","warning",3,"click"],["name","brush-outline"],["color","primary",3,"click"],["name","eye-outline"],["color","success",3,"click"],["name","checkbox-outline"],[1,"ion-padding"],[2,"padding","15px"],["label","Nome Comum","labelPlacement","stacked",3,"value","disabled"],["label","Nome Cient\xedfico","labelPlacement","stacked",3,"value","disabled"],["label","Situa\xe7\xe3o","labelPlacement","stacked",3,"value","disabled"],["size","default","expand","block","fill","outline",3,"click"],["label","Nome Comum","labelPlacement","stacked","maxlength","45",3,"counter","ngModel","ngModelChange"],["label","Nome Cient\xedfico","labelPlacement","stacked","maxlength","45",3,"counter","ngModel","ngModelChange"],["fill","solid","label","Situa\xe7\xe3o","interface","popover","labelPlacement","stacked",3,"ngModel","ngModelChange"],["value","Aprovado"],["value","Pendente"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Listar Esp\xe9cies"),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8,"Esp\xe9cies"),e.qZA()()(),e.TgZ(9,"ion-grid")(10,"ion-row")(11,"ion-col",4)(12,"ion-row")(13,"ion-col")(14,"ion-button",5),e.NdJ("click",function(){return o.getEspecieBySitucao("Aprovado")}),e._uU(15," Aprovados "),e.qZA()(),e.TgZ(16,"ion-col")(17,"ion-button",5),e.NdJ("click",function(){return o.getEspecieBySitucao("Pendente")}),e._uU(18," Pendentes "),e.qZA()()()()(),e.TgZ(19,"ion-row")(20,"ion-col",4)(21,"ion-row")(22,"ion-col")(23,"ion-button",5),e.NdJ("click",function(){return o.openAdicionarEspecie(!0)}),e._UZ(24,"ion-icon",6),e._uU(25," Adicionar "),e.qZA()()()()(),e.TgZ(26,"ion-row")(27,"ion-col",7)(28,"ion-list",8)(29,"ion-list-header",9)(30,"ion-label"),e._uU(31),e.qZA()(),e.YNc(32,E,14,2,"ion-item",10),e.qZA()()()(),e.TgZ(33,"ion-modal",11),e.YNc(34,Z,14,6,"ng-template"),e.qZA(),e.TgZ(35,"ion-modal",11),e.YNc(36,v,16,6,"ng-template"),e.qZA(),e.TgZ(37,"ion-modal",11),e.YNc(38,T,20,5,"ng-template"),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(24),e.Q6J("inset",!0),e.xp6(3),e.hij("Esp\xe9cies ",o.titulo,""),e.xp6(1),e.Q6J("ngForOf",o.especies),e.xp6(1),e.Q6J("isOpen",o.isModalVisualizarOpen)("backdropDismiss",!1),e.xp6(2),e.Q6J("isOpen",o.isModalAtualizarOpen)("backdropDismiss",!1),e.xp6(2),e.Q6J("isOpen",o.isModalAdicionarOpen)("backdropDismiss",!1))},dependencies:[_.sg,_.O5,u.JJ,u.nD,u.On,c.YG,c.PM,c.wI,c.W2,c.IJ,c.W4,c.zq,c.jY,c.Gu,c.gu,c.pK,c.Ie,c.Q$,c.q_,c.yh,c.Nd,c.t9,c.n0,c.wd,c.sr,c.ki,c.QI,c.j9]})}return n})()}];let b=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#i=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(x),m.Bz]})}return n})(),A=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#i=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[_.ez,u.u5,c.Pc,b]})}return n})()}}]);