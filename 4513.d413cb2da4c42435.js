"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4513],{4513:(P,c,s)=>{s.r(c),s.d(c,{CadastrarOngPageModule:()=>C});var v=s(6814),u=s(95),i=s(3582),p=s(5233),g=s(3044),d=s(5861),e=s(6689),Z=s(4414),h=s(6975),_=s(7696),f=s(768);const M=[{path:"",component:(()=>{class l{constructor(t,o,n,r,a,A){this.route=t,this.toastController=o,this.ongService=n,this.router=r,this.usuarioService=a,this.colaboradorService=A,this.usuario={},this.novaOng={nome_fantasia:"",cnpj:"",email:"",telefone:"",logradouro:"",numero:"",bairro:"",cep:"",cidade:"",uf:"",descricao:"",situacao:"",logo_path:"",usuario_id:0},this.telMask={mask:["(",/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]},this.cepMask={mask:[/\d/,/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/]},this.cnpjMask={mask:[/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/]},this.maskPredicate=function(){var O=(0,d.Z)(function*(m){return m.getInputElement()});return function(m){return O.apply(this,arguments)}}()}ngOnInit(){}presentToast(t){var o=this;return(0,d.Z)(function*(){(yield o.toastController.create({message:t,duration:4e3,position:"top"})).present()})()}adicionar(t){var o=this;return(0,d.Z)(function*(){console.log(o.novaOng),null!=o.arquivo&&(yield o.uploadFilesToServer()),o.usuario=yield o.usuarioService.getUsuarioLogado(),o.novaOng.usuario_id=o.usuario.id,console.log(o.novaOng),o.novaOng.situacao="A"==o.usuario.nivel?"Aprovada":"Pendente",o.camposValidos(t)&&o.ongService.create(o.novaOng).then(n=>{o.retorno=n,o.presentToast("Ong adicionada com sucesso!")}).catch(n=>{console.log(n)})})()}enviaOng(){this.adicionar(this.novaOng),setTimeout(()=>{this.voltaPagina()},1e3)}voltaPagina(){this.router.navigate(["listar-ong"])}camposValidos(t){for(const o in t)if(!t[o])return"string"==typeof t[o]&&t[o].trim(),!1;return!0}onUpload(t){this.arquivo=t.target.files}uploadFilesToServer(){var t=this;return(0,d.Z)(function*(){const o=new FormData;o.append("arquivo",t.arquivo[0]);try{let n=yield t.ongService.uploadArquivo(o);return null!=n&&(t.novaOng.logo_path=n.filename),n}catch(n){console.log(n),t.presentToast("N\xe3o foi possivel fazer o upload do arquivo!")}})()}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(g.gz),e.Y36(Z.yF),e.Y36(h.r),e.Y36(g.F0),e.Y36(_.i),e.Y36(f.v))};static#n=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-cadastrar-ong"]],decls:103,vars:25,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["size-lg","4","offset-lg","4","size-xs","12","offset-xs","0"],[2,"padding","15px"],["label","Nome Fantasia","labelPlacement","stacked","type","text","maxlength","50",3,"counter","ngModel","ngModelChange"],["label","CNPJ","labelPlacement","stacked","type","text",3,"maskito","maskitoElement","ngModel","ngModelChange"],["label","Email","labelPlacement","stacked","type","text","maxlength","45",3,"counter","ngModel","ngModelChange"],["label","Telefone","labelPlacement","stacked","type","text",3,"maskito","maskitoElement","ngModel","ngModelChange"],["label","Logradouro","labelPlacement","stacked","type","text","maxlength","45",3,"counter","ngModel","ngModelChange"],["label","N\xfamero","labelPlacement","stacked","type","text","maxlength","10",3,"counter","ngModel","ngModelChange"],["label","Bairro","labelPlacement","stacked","type","text","maxlength","45",3,"counter","ngModel","ngModelChange"],["label","CEP","labelPlacement","stacked","type","text","maxlength","9",3,"counter","maskito","maskitoElement","ngModel","ngModelChange"],["label","Cidade","labelPlacement","stacked","type","text",3,"ngModel","ngModelChange"],["label","Estado","labelPlacement","stacked","searchable","true","searchIcon","search",3,"ngModel","ngModelChange"],["value","AC"],["value","AL"],["value","AP"],["value","AM"],["value","BA"],["value","CE"],["value","DF"],["value","ES"],["value","GO"],["value","MA"],["value","MT"],["value","MS"],["value","MG"],["value","PA"],["value","PB"],["value","PR"],["value","PE"],["value","PI"],["value","RJ"],["value","RN"],["value","RS"],["value","RO"],["value","RR"],["value","SC"],["value","SP"],["value","SE"],["value","TO"],["label","Descri\xe7\xe3o","labelPlacement","stacked","type","text",3,"ngModel","ngModelChange"],["position","stacked"],["type","file","name","logo_path",3,"change"],["size-lg","6","offset-lg","3","size-xs","12","offset-xs","0"],["size","default","expand","block",3,"click"],["size","default","expand","block","fill","outline","routerLink","/listar-ong"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Cadastro de Ong"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),e._uU(10,"Adicionando ONG"),e.qZA()()(),e.TgZ(11,"ion-grid")(12,"ion-row")(13,"ion-col",5)(14,"ion-list",6)(15,"ion-item")(16,"ion-input",7),e.NdJ("ngModelChange",function(a){return n.novaOng.nome_fantasia=a}),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-input",8),e.NdJ("ngModelChange",function(a){return n.novaOng.cnpj=a}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-input",9),e.NdJ("ngModelChange",function(a){return n.novaOng.email=a}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-input",10),e.NdJ("ngModelChange",function(a){return n.novaOng.telefone=a}),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-input",11),e.NdJ("ngModelChange",function(a){return n.novaOng.logradouro=a}),e.qZA()(),e.TgZ(25,"ion-item")(26,"ion-input",12),e.NdJ("ngModelChange",function(a){return n.novaOng.numero=a}),e.qZA()(),e.TgZ(27,"ion-item")(28,"ion-input",13),e.NdJ("ngModelChange",function(a){return n.novaOng.bairro=a}),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-input",14),e.NdJ("ngModelChange",function(a){return n.novaOng.cep=a}),e.qZA()(),e.TgZ(31,"ion-item")(32,"ion-input",15),e.NdJ("ngModelChange",function(a){return n.novaOng.cidade=a}),e.qZA()(),e.TgZ(33,"ion-item")(34,"ion-select",16),e.NdJ("ngModelChange",function(a){return n.novaOng.uf=a}),e.TgZ(35,"ion-select-option",17),e._uU(36,"Acre"),e.qZA(),e.TgZ(37,"ion-select-option",18),e._uU(38,"Alagoas"),e.qZA(),e.TgZ(39,"ion-select-option",19),e._uU(40,"Amap\xe1"),e.qZA(),e.TgZ(41,"ion-select-option",20),e._uU(42,"Amazonas"),e.qZA(),e.TgZ(43,"ion-select-option",21),e._uU(44,"Bahia"),e.qZA(),e.TgZ(45,"ion-select-option",22),e._uU(46,"Cear\xe1"),e.qZA(),e.TgZ(47,"ion-select-option",23),e._uU(48,"Distrito Federal"),e.qZA(),e.TgZ(49,"ion-select-option",24),e._uU(50,"Esp\xedrito Santo"),e.qZA(),e.TgZ(51,"ion-select-option",25),e._uU(52,"Goi\xe1s"),e.qZA(),e.TgZ(53,"ion-select-option",26),e._uU(54,"Maranh\xe3o"),e.qZA(),e.TgZ(55,"ion-select-option",27),e._uU(56,"Mato Grosso"),e.qZA(),e.TgZ(57,"ion-select-option",28),e._uU(58,"Mato Grosso do Sul"),e.qZA(),e.TgZ(59,"ion-select-option",29),e._uU(60,"Minas Gerais"),e.qZA(),e.TgZ(61,"ion-select-option",30),e._uU(62,"Par\xe1"),e.qZA(),e.TgZ(63,"ion-select-option",31),e._uU(64,"Para\xedba"),e.qZA(),e.TgZ(65,"ion-select-option",32),e._uU(66,"Paran\xe1"),e.qZA(),e.TgZ(67,"ion-select-option",33),e._uU(68,"Pernambuco"),e.qZA(),e.TgZ(69,"ion-select-option",34),e._uU(70,"Piau\xed"),e.qZA(),e.TgZ(71,"ion-select-option",35),e._uU(72,"Rio de Janeiro"),e.qZA(),e.TgZ(73,"ion-select-option",36),e._uU(74,"Rio Grande do Norte"),e.qZA(),e.TgZ(75,"ion-select-option",37),e._uU(76,"Rio Grande do Sul"),e.qZA(),e.TgZ(77,"ion-select-option",38),e._uU(78,"Rond\xf4nia"),e.qZA(),e.TgZ(79,"ion-select-option",39),e._uU(80,"Roraima"),e.qZA(),e.TgZ(81,"ion-select-option",40),e._uU(82,"Santa Catarina"),e.qZA(),e.TgZ(83,"ion-select-option",41),e._uU(84,"S\xe3o Paulo"),e.qZA(),e.TgZ(85,"ion-select-option",42),e._uU(86,"Sergipe"),e.qZA(),e.TgZ(87,"ion-select-option",43),e._uU(88,"Tocantins"),e.qZA()()(),e.TgZ(89,"ion-item")(90,"ion-input",44),e.NdJ("ngModelChange",function(a){return n.novaOng.descricao=a}),e.qZA()(),e.TgZ(91,"ion-item")(92,"ion-label",45),e._uU(93,"Logo"),e.qZA(),e.TgZ(94,"input",46),e.NdJ("change",function(a){return n.onUpload(a)}),e.qZA()()()()(),e.TgZ(95,"ion-row")(96,"ion-col",47)(97,"ion-button",48),e.NdJ("click",function(){return n.enviaOng()}),e._uU(98,"Cadastrar"),e.qZA()()(),e.TgZ(99,"ion-row")(100,"ion-col",47)(101,"ion-button",49),e._uU(102,"Voltar"),e.qZA()()()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("counter",!0)("ngModel",n.novaOng.nome_fantasia),e.xp6(2),e.Q6J("maskito",n.cnpjMask)("maskitoElement",n.maskPredicate)("ngModel",n.novaOng.cnpj),e.xp6(2),e.Q6J("counter",!0)("ngModel",n.novaOng.email),e.xp6(2),e.Q6J("maskito",n.telMask)("maskitoElement",n.maskPredicate)("ngModel",n.novaOng.telefone),e.xp6(2),e.Q6J("counter",!0)("ngModel",n.novaOng.logradouro),e.xp6(2),e.Q6J("counter",!0)("ngModel",n.novaOng.numero),e.xp6(2),e.Q6J("counter",!0)("ngModel",n.novaOng.bairro),e.xp6(2),e.Q6J("counter",!0)("maskito",n.cepMask)("maskitoElement",n.maskPredicate)("ngModel",n.novaOng.cep),e.xp6(2),e.Q6J("ngModel",n.novaOng.cidade),e.xp6(2),e.Q6J("ngModel",n.novaOng.uf),e.xp6(56),e.Q6J("ngModel",n.novaOng.descricao))},dependencies:[u.JJ,u.nD,u.On,i.YG,i.Sm,i.wI,i.W2,i.jY,i.Gu,i.pK,i.Ie,i.Q$,i.q_,i.fG,i.Nd,i.t9,i.n0,i.wd,i.sr,i.QI,i.j9,i.YI,p.ro,g.rH]})}return l})()}];let T=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#n=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(M),g.Bz]})}return l})(),C=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#n=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[v.ez,u.u5,i.Pc,p.U5,T]})}return l})()}}]);