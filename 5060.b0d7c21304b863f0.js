"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5060],{5060:(Z,u,r)=>{r.r(u),r.d(u,{ListarOngPageModule:()=>x});var g=r(6814),h=r(95),e=r(6761),a=r(3044),d=r(5861),t=r(6689),m=r(2971);function p(i,v){if(1&i){const o=t.EpF();t.TgZ(0,"ion-row",4)(1,"ion-col")(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-subtitle"),t._uU(7),t.qZA()(),t.TgZ(8,"ion-card-content"),t._uU(9),t.qZA(),t.TgZ(10,"ion-button",5),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.editarOng(c.id))}),t._uU(11,"Editar"),t.qZA(),t.TgZ(12,"ion-button",5),t.NdJ("click",function(){const c=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.confirmaExclusao(c.id))}),t._uU(13,"Excluir"),t.qZA()()()()}if(2&i){const o=v.$implicit;t.xp6(5),t.Oqu(o.nome_fantasia),t.xp6(2),t.Oqu(o.email),t.xp6(2),t.Oqu(o.descricao)}}const f=[{path:"",component:(()=>{class i{constructor(o,n,s,c,l){this.route=o,this.toastController=n,this.alertController=s,this.ongService=c,this.router=l,this.activatedRoute=(0,t.f3M)(a.gz),this.retorno=[],this.getOngs()}ionViewWillEnter(){this.getOngs()}getOngs(){this.ongService.getAll().then(o=>{this.retorno=o,console.log(o)}).catch(o=>{console.log(o)})}confirmaExclusao(o){var n=this;return(0,d.Z)(function*(){yield(yield n.alertController.create({header:"Confirmar exclus\xe3o?",buttons:[{text:"N\xe3o"},{text:"Sim",handler:()=>{n.remover(o)}}]})).present()})()}remover(o){console.log(o),this.ongService.delete(o).then(()=>{this.presentToast("Ong exclu\xedda com sucesso!"),console.log("Ong Exclu\xedda."),setTimeout(()=>{window.location.reload()},1e3)}).catch(n=>{console.log(n)})}presentToast(o){var n=this;return(0,d.Z)(function*(){(yield n.toastController.create({message:o,duration:4e3,position:"top"})).present()})()}editarOng(o){this.router.navigate(["/editar-ong",o])}ngOnInit(){this.listarOng=this.activatedRoute.snapshot.paramMap.get("id")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(a.gz),t.Y36(e.yF),t.Y36(e.Br),t.Y36(m.r),t.Y36(a.F0))};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-listar-ong"]],decls:11,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],["size","default","expand","block","routerLink","/cadastrar-ong"],["size-lg","3","size-xs","12",4,"ngFor","ngForOf"],["size-lg","3","size-xs","12"],["fill","clear",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Lista de ONGs"),t.qZA()()(),t.TgZ(4,"ion-content",1)(5,"ion-grid")(6,"ion-row")(7,"ion-col")(8,"ion-button",2),t._uU(9," Adicionar "),t.qZA()()(),t.YNc(10,p,14,3,"ion-row",3),t.qZA()()),2&n&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(6),t.Q6J("ngForOf",s.retorno))},dependencies:[g.sg,e.YG,e.PM,e.FN,e.Zi,e.tO,e.Dq,e.wI,e.W2,e.jY,e.Gu,e.Nd,e.wd,e.sr,e.YI,a.rH]})}return i})()}];let O=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(f),a.Bz]})}return i})(),x=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[g.ez,h.u5,e.Pc,O]})}return i})()}}]);