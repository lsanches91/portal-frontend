"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2816],{2816:(C,g,s)=>{s.r(g),s.d(g,{VisualizarOngPageModule:()=>x});var d=s(6814),r=s(95),o=s(3582),l=s(3044),h=s(5861),m=s(6080),n=s(6689),_=s(6975),f=s(4781),S=s(9003),v=s(7696);function A(t,p){if(1&t){const e=n.EpF();n.TgZ(0,"ion-col",12)(1,"ion-card",13),n.NdJ("click",function(){const c=n.CHM(e).$implicit,u=n.oxw();return n.KtG(u.apresentaAnimal(c.id))}),n._UZ(2,"img",14),n.TgZ(3,"ion-card-header")(4,"ion-card-title"),n._uU(5),n.qZA()(),n.TgZ(6,"ion-card-content"),n._uU(7),n.qZA()()()}if(2&t){const e=p.$implicit;n.xp6(2),n.s9C("src",e.foto_path,n.LSH),n.xp6(3),n.Oqu(e.nome),n.xp6(2),n.hij(" ",e.descricao," ")}}function T(t,p){if(1&t){const e=n.EpF();n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n._uU(3),n.qZA()()(),n.TgZ(4,"ion-content",15)(5,"ion-card",7)(6,"ion-item")(7,"ion-textarea",16),n.NdJ("ngModelChange",function(i){n.CHM(e);const c=n.oxw();return n.KtG(c.mensagem=i)}),n.qZA()(),n._UZ(8,"br"),n.TgZ(9,"ion-button",17),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.enviaDenuncia())}),n._uU(10," Enviar "),n.qZA(),n._UZ(11,"br"),n.TgZ(12,"ion-button",18),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.openCadastraDenuncia(!1))}),n._uU(13," Voltar "),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(3),n.hij("Denunciar ONG ",e.ongSelecionada.nome_fantasia,""),n.xp6(4),n.Q6J("ngModel",e.mensagem)}}const U=[{path:"",component:(()=>{class t{constructor(e,a,i,c,u,z,q){this.route=e,this.ongService=a,this.animalService=i,this.router=c,this.utilsService=u,this.denunciaService=z,this.usuarioService=q,this.ongSelecionada={cidade:{estado:{}}},this.animalSelecionado={},this.retorno={},this.urlFoto=`${m.v6}/uploads/`,this.mensagem="",this.isModalOpen=!1,this.route.params.subscribe(Z=>{Z.id&&this.getSingleOng(+Z.id)})}getSingleOng(e){this.ongService.getSingleOng(e).then(a=>{this.ongSelecionada=a,this.ongSelecionada&&this.ongSelecionada.animal&&this.ongSelecionada.animal.forEach(i=>{i.foto_path=this.urlFoto+i.foto_path})}).catch(a=>{console.log(a)})}apresentaAnimal(e){this.router.navigate(["/animal-info/",e])}getAnimal(e){this.animalService.getSingleAnimal(e).then(a=>{this.animalSelecionado=a}).catch(a=>{console.log(a)})}ngOnInit(){}enviaDenuncia(){var e=this;return(0,h.Z)(function*(){const a=yield e.usuarioService.getUsuarioLogado();if(a){const i={usuario_id:a.id,ong_id:e.ongSelecionada.id,mensagem:e.mensagem};(yield e.denunciaService.create(i))&&(e.utilsService.presentToastSuccess("Denuncia cadastrada com sucesso"),e.openCadastraDenuncia(!1))}else e.utilsService.presentToastWarning("Realize o login para denunciar essa ONG")})()}openCadastraDenuncia(e){var a=this;return(0,h.Z)(function*(){a.mensagem="",a.isModalOpen=e})()}static#n=this.\u0275fac=function(a){return new(a||t)(n.Y36(l.gz),n.Y36(_.r),n.Y36(f.L),n.Y36(l.F0),n.Y36(m.FW),n.Y36(S.t),n.Y36(v.i))};static#e=this.\u0275cmp=n.Xpm({type:t,selectors:[["app-visualizar-ong"]],decls:60,vars:17,consts:[[3,"translucent"],["slot","start"],["default-href","#"],[1,"ion-text-center"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"padding","15px"],["alt","Logo da ONG","width","100%","height","200px",3,"src"],["expand","block","color","danger",3,"click"],["size-lg","3","size-xs","12",4,"ngFor","ngForOf"],[3,"isOpen"],["size-lg","3","size-xs","12"],[1,"ion-active",3,"click"],["alt","Foto do animal","width","100%","height","200px",3,"src"],[1,"ion-padding"],["label","Mensagem*","labelPlacement","floating","rows","4","placeholder","Insira o motivo da denuncia",3,"ngModel","ngModelChange"],["size","default","expand","block","color","success",3,"click"],["size","default","expand","block","fill","outline",3,"click"]],template:function(a,i){1&a&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title",3),n._uU(5),n.qZA()()(),n.TgZ(6,"ion-content",4)(7,"ion-header",5)(8,"ion-toolbar")(9,"ion-title",6),n._uU(10),n.qZA()()(),n.TgZ(11,"ion-card",7),n._UZ(12,"img",8),n.TgZ(13,"ion-card-header")(14,"ion-card-title"),n._uU(15),n.qZA()(),n.TgZ(16,"ion-card-content")(17,"h2")(18,"b"),n._uU(19,"CNPJ:"),n.qZA(),n._uU(20),n.qZA(),n.TgZ(21,"h2")(22,"b"),n._uU(23,"E-mail:"),n.qZA(),n._uU(24),n.qZA(),n.TgZ(25,"h2")(26,"b"),n._uU(27,"Telefone:"),n.qZA(),n._uU(28),n.qZA(),n.TgZ(29,"h2")(30,"b"),n._uU(31,"Logradouro:"),n.qZA(),n._uU(32),n.qZA(),n.TgZ(33,"h2")(34,"b"),n._uU(35,"N\xfamero:"),n.qZA(),n._uU(36),n.qZA(),n.TgZ(37,"h2")(38,"b"),n._uU(39,"Bairro:"),n.qZA(),n._uU(40),n.qZA(),n.TgZ(41,"h2")(42,"b"),n._uU(43,"Cidade:"),n.qZA(),n._uU(44),n.qZA(),n.TgZ(45,"h2")(46,"b"),n._uU(47,"Descri\xe7\xe3o:"),n.qZA(),n._uU(48),n.qZA()(),n.TgZ(49,"ion-button",9),n.NdJ("click",function(){return i.openCadastraDenuncia(!0)}),n._uU(50,"Denunciar Ong"),n.qZA()(),n.TgZ(51,"ion-item")(52,"ion-label",3)(53,"h1"),n._uU(54),n.qZA()()(),n.TgZ(55,"ion-grid")(56,"ion-row"),n.YNc(57,A,8,3,"ion-col",10),n.qZA()()(),n.TgZ(58,"ion-modal",11),n.YNc(59,T,14,2,"ng-template"),n.qZA()),2&a&&(n.Q6J("translucent",!0),n.xp6(5),n.Oqu(i.ongSelecionada.nome_fantasia),n.xp6(1),n.Q6J("fullscreen",!0),n.xp6(4),n.hij("Informa\xe7\xe3o ",i.ongSelecionada.nome_fantasia,""),n.xp6(2),n.Q6J("src",i.ongSelecionada.logo_path,n.LSH),n.xp6(3),n.Oqu(i.ongSelecionada.nome_fantasia),n.xp6(5),n.hij(" ",i.ongSelecionada.cnpj,""),n.xp6(4),n.hij(" ",i.ongSelecionada.email,""),n.xp6(4),n.hij(" ",i.ongSelecionada.telefone,""),n.xp6(4),n.hij(" ",i.ongSelecionada.logradouro,""),n.xp6(4),n.hij(" ",i.ongSelecionada.numero,""),n.xp6(4),n.hij(" ",i.ongSelecionada.bairro,""),n.xp6(4),n.hij(" ",i.ongSelecionada.cidade.nome,""),n.xp6(4),n.hij(" ",i.ongSelecionada.descricao,""),n.xp6(6),n.hij("Lista de Animais da ",i.ongSelecionada.nome_fantasia,""),n.xp6(3),n.Q6J("ngForOf",i.ongSelecionada.animal),n.xp6(1),n.Q6J("isOpen",i.isModalOpen))},dependencies:[d.sg,r.JJ,r.On,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.Ie,o.Q$,o.Nd,o.g2,o.wd,o.sr,o.ki,o.j9,o.oU]})}return t})()}];let O=(()=>{class t{static#n=this.\u0275fac=function(a){return new(a||t)};static#e=this.\u0275mod=n.oAB({type:t});static#i=this.\u0275inj=n.cJS({imports:[l.Bz.forChild(U),l.Bz]})}return t})(),x=(()=>{class t{static#n=this.\u0275fac=function(a){return new(a||t)};static#e=this.\u0275mod=n.oAB({type:t});static#i=this.\u0275inj=n.cJS({imports:[d.ez,r.u5,o.Pc,O]})}return t})()}}]);